<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Reel Craft | Bejay‚Äôs Website</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Reel Craft" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Welcome to my little corner of the internet. Full-time engineer passionate about GenAI, building magical experiences with clarity and logic." />
<meta property="og:description" content="Welcome to my little corner of the internet. Full-time engineer passionate about GenAI, building magical experiences with clarity and logic." />
<link rel="canonical" href="http://localhost:4000/2025/10/28/reel-craft.html" />
<meta property="og:url" content="http://localhost:4000/2025/10/28/reel-craft.html" />
<meta property="og:site_name" content="Bejay‚Äôs Website" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-10-28T00:00:00+05:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Reel Craft" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-10-28T00:00:00+05:30","datePublished":"2025-10-28T00:00:00+05:30","description":"Welcome to my little corner of the internet. Full-time engineer passionate about GenAI, building magical experiences with clarity and logic.","headline":"Reel Craft","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2025/10/28/reel-craft.html"},"url":"http://localhost:4000/2025/10/28/reel-craft.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="icon" type="image/x-icon" href="/assets/images/favicons/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicons/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon.png">
    <link rel="manifest" href="/assets/images/favicons/site.webmanifest">
    <link rel="stylesheet" href="/assets/css/style.css?v=8bb7d69fa38d123dfcf0250c9de29676cc3e6554">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <div class="scroll-progress"></div>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <div class="container">
      <header class="site-header" role="banner">
  <nav class="top-nav" role="navigation" aria-label="Main navigation">
    <a href="/" class="nav-link">about</a>
    <a href="/blog/" class="nav-link">blog</a>
    <a href="/projects/" class="nav-link">projects</a>
    <div class="nav-icons">
      <span class="theme-icon">üåô</span>
    </div>
  </nav>
</header>

      <main id="main-content" class="main-content" role="main">
        <div style="text-align: center; margin-bottom: 2rem;">
    <a href="/blog/" style="color: #3182ce; text-decoration: none; font-weight: 500;">‚Üê Back to Blog</a>
</div>

<article class="content-section">
    <header class="post-header">
        <h1 class="post-title">Reel Craft</h1>
        <p class="post-meta">
            <time datetime="2025-10-28T00:00:00+05:30">October 28, 2025</time>
            
        </p>
    </header>

    <div class="post-content">
        <hr />

<h2 id="layout-post-title-reelcraft-the-ai-pipeline-that-turns-long-articles-into-viral-shorts-date-2025-10-28-description-how-we-built-reelcraftan-automated-system-using-gemini-ai-pexels-and-ffmpegto-convert-any-web-article-into-an-engaging-30-60-second-short-form-video-in-one-click-author-bejay-tags-ai-videogen-llm-gemini-python-fastapi-acknowledgment-built-with-the-visionary-zeal-of-paras-and-the-technical-brilliance-of-aakash">layout: post title: ‚ÄúReelCraft: The AI Pipeline That Turns Long Articles into Viral Shorts‚Äù date: 2025-10-28 description: ‚ÄúHow we built ReelCraft‚Äîan automated system using Gemini AI, Pexels, and FFmpeg‚Äîto convert any web article into an engaging 30-60 second short-form video in one click.‚Äù author: ‚ÄúBejay‚Äù tags: [AI, VideoGen, LLM, Gemini, Python, FastAPI] acknowledgment: ‚ÄúBuilt with the visionary zeal of Paras and the technical brilliance of Aakash.‚Äù</h2>

<h2 id="introduction-the-short-form-addiction-dilemma">Introduction: The Short-Form Addiction Dilemma</h2>

<p>It was during the last of <strong>Ninety Days</strong> (early 2024), a hyper-productive sprint where our team was shipping app prototypes weekly. For one such prototype, <strong>Paras</strong> (our CEO) had a funky, yet brilliant, hypothesis: almost everyone in the tech sphere <strong>wants to be productive</strong> and read long-form content, but is simultaneously <strong>addicted to short-form content</strong> (Reels, TikToks, Shorts). The addiction was real, and it was a problem begging for an AI solution.</p>

<p>The goal was simple: bridge the gap. Turn the boring, text-heavy productivity content into the snackable, engaging format of a reel.</p>

<p>I was entrusted with building the initial Proof of Concept (PoC) along with my colleague and best friend, <strong>Aakash</strong>. We had a blast. Fast forward to now (October 2025), I‚Äôve decided to reproduce the entire pipeline, refine it, and document the process. We called it <strong>ReelCraft</strong>.</p>

<p><strong>ReelCraft</strong> automatically transforms any web article into a polished, 30‚Äì60 second vertical video, complete with narration, stock media, and background music.</p>

<hr />

<h2 id="what-is-reelcraft-the-end-to-end-automation-engine-">What is ReelCraft? The End-to-End Automation Engine üé¨</h2>

<p>ReelCraft is a fully automated video generation pipeline. You paste an article URL, and out comes a professional-grade short video, perfectly formatted for social media.</p>

<h3 id="core-features-at-a-glance">Core Features at a Glance</h3>

<ul>
  <li><strong>Automatic Script Generation:</strong> Gemini AI converts dense articles into <strong>7-15 punchy, scene-based scripts</strong> optimized for a fast-paced reel format.</li>
  <li><strong>AI-Powered Voice Over:</strong> Natural-sounding voice narration is generated for each scene using <strong>Gemini Text-to-Speech (TTS)</strong>.</li>
  <li><strong>Smart Asset Selection:</strong> The pipeline automatically finds and downloads relevant <strong>images and videos</strong> from <strong>Pexels</strong> based on keywords generated alongside the script.</li>
  <li><strong>Professional Composition:</strong> <strong>FFmpeg</strong> stitches the visual assets, audio, and background music together into a vertical video (720x1280).</li>
  <li><strong>Modern Web UI:</strong> A user-friendly, responsive interface with <strong>WebSocket</strong> integration for <strong>real-time progress tracking</strong>.</li>
</ul>

<h3 id="the-flow-url-to-reel">The Flow: URL to Reel</h3>

<p>The entire process is a streamlined, five-step pipeline:</p>

\[\text{Article URL} \xrightarrow{\text{Content Extraction}} \text{Script Generation} \xrightarrow{\text{Audio Generation}} \text{Asset Download} \xrightarrow{\text{Video Editing}} \text{Final Video}\]

<hr />

<h2 id="system-design-how-it-all-fits-together">System Design: How It All Fits Together</h2>

<p>The architecture is built for speed and concurrency, leveraging asynchronous Python (<code class="language-plaintext highlighter-rouge">asyncio</code>) and specialized APIs for each task.</p>

<h3 id="1-content-extraction-firecrawl">1. Content Extraction (FireCrawl)</h3>

<p>The first challenge is getting clean, structured text from a messy web page.</p>

<ul>
  <li>We use <strong>FireCrawl</strong> for this. It handles JavaScript-rendered content and returns the article in <strong>clean Markdown</strong>, ready for the LLM.</li>
</ul>

<h3 id="2-script-generation-gemini-ai">2. Script Generation (Gemini AI)</h3>

<p>This is the <strong>core intelligence</strong>. A prompt is sent to a <strong>Gemini</strong> model (likely Gemini 2.5 Flash for speed) that instructs it to perform a few crucial tasks:</p>

<ul>
  <li>Create a compelling <strong>title</strong>.</li>
  <li>Break the article down into <strong>7-15 scenes</strong> (max 60 seconds total duration).</li>
  <li>For <em>each scene</em>, generate the <strong>narration text</strong> and <strong>3 descriptive keywords</strong> for visual search. This separation of concerns is key for quality output. The output is structured JSON.</li>
</ul>

<h3 id="3-audio--asset-generation-parallel-processing">3. Audio &amp; Asset Generation (Parallel Processing)</h3>

<p>These two heavy tasks run <strong>concurrently</strong> to minimize latency:</p>

<ul>
  <li><strong>Audio Generation:</strong> The narration for all 7-15 scenes is converted to separate <code class="language-plaintext highlighter-rouge">.wav</code> files using the <strong>Gemini TTS API</strong>. We use an <code class="language-plaintext highlighter-rouge">asyncio.Semaphore</code> to limit concurrent requests (e.g., max 3 at once) to avoid API rate limits.</li>
  <li><strong>Asset Download:</strong> Using the keywords from the script, the pipeline calls the <strong>Pexels API</strong> to download the most relevant image or video for each scene, ensuring it matches the required vertical aspect ratio.</li>
</ul>

<h3 id="4-video-composition-ffmpeg">4. Video Composition (FFmpeg)</h3>

<p>The final assembly line, driven by the robust <strong>FFmpeg</strong> utility:</p>

<ul>
  <li><strong>Stitching:</strong> Visual assets are concatenated sequentially.</li>
  <li><strong>Duration Sync:</strong> This was a key challenge: the audio duration must precisely match the visual duration. FFmpeg is used to <strong>automatically adjust the audio tempo</strong> (speed) to align perfectly with the scene‚Äôs visual clip length, ensuring a snappy flow.</li>
  <li><strong>Audio Mixing:</strong> The voice-over audio track is layered with a background music track, with the voice-over volume boosted and the music volume suppressed (e.g., <code class="language-plaintext highlighter-rouge">background_volume = 0.2</code>).</li>
  <li><strong>Effects:</strong> Basic effects (like zoom/pan for static images) are applied to maintain visual dynamism.</li>
</ul>

<h3 id="the-fastapi-backend--web-ui">The FastAPI Backend &amp; Web UI</h3>

<p>The entire system is wrapped in a <strong>FastAPI</strong> application, providing both a <strong>REST API</strong> (<code class="language-plaintext highlighter-rouge">/api/generate-video</code>) and a <strong>WebSocket</strong> connection (<code class="language-plaintext highlighter-rouge">/ws</code>) to stream real-time progress updates to the frontend. This allows users to see <em>exactly</em> when the script is generating, audio is downloading, and FFmpeg is composing.</p>

<hr />

<h2 id="technical-learnings--design-decisions">Technical Learnings &amp; Design Decisions</h2>

<h3 id="decision-1-structured-json-output-for-llm">Decision 1: Structured JSON Output for LLM</h3>

<p>Initially, we just asked the LLM for a script. It was messy.</p>

<ul>
  <li><strong>Solution:</strong> We enforced a strict JSON schema that requires the scene number, script text, and a dedicated <code class="language-plaintext highlighter-rouge">asset_keywords</code> array for each scene. This structured output is vital‚Äîit makes the downstream parallel processing of audio and visuals deterministic and reliable.</li>
</ul>

<h3 id="decision-2-prioritizing-parallelism-for-ux">Decision 2: Prioritizing Parallelism for UX</h3>

<p>The full pipeline (extraction to final video) is inherently slow due to multiple API calls (Gemini, Pexels).</p>

<ul>
  <li><strong>Insight:</strong> Waiting 3 minutes for a video is better than waiting 10 minutes.</li>
  <li><strong>Implementation:</strong> By running the <strong>Audio Generation</strong> and <strong>Asset Download</strong> steps concurrently (<code class="language-plaintext highlighter-rouge">asyncio.gather</code>), we slashed the total processing time significantly, resulting in a much better user experience.</li>
</ul>

<h3 id="decision-3-tempo-adjustment-for-seamless-sync">Decision 3: Tempo Adjustment for Seamless Sync</h3>

<p>A silent video is useless for a reel.</p>

<ul>
  <li><strong>Problem:</strong> The Gemini TTS audio for a scene might be 5.2 seconds long, but the chosen Pexels clip might be 6 seconds. A simple cut creates a jarring silence.</li>
  <li><strong>Solution:</strong> We calculate the required speed adjustment factor ($\frac{\text{Visual Duration}}{\text{Audio Duration}}$) and apply it using FFmpeg‚Äôs <code class="language-plaintext highlighter-rouge">atempo</code> filter. This subtly speeds up or slows down the voice-over so it ends precisely when the visual scene transitions.</li>
</ul>

<h3 id="decision-4-monitoring-with-langfuse">Decision 4: Monitoring with Langfuse</h3>

<p>To move beyond ‚Äúit works on my machine,‚Äù we integrated <strong>Langfuse</strong>.</p>

<ul>
  <li><strong>Benefit:</strong> It tracks every single LLM call (scripting, TTS), their latency, and token usage. This allows us to debug prompt failures and, critically, monitor API costs.</li>
</ul>

<hr />

<h2 id="reelcraft-technical-stack">ReelCraft Technical Stack</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Component</th>
      <th style="text-align: left">Tool / API</th>
      <th style="text-align: left">Purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>LLM &amp; TTS</strong></td>
      <td style="text-align: left">Google Gemini API (<code class="language-plaintext highlighter-rouge">google-genai</code>)</td>
      <td style="text-align: left">Scripting and Voice-Over Generation</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Content Extraction</strong></td>
      <td style="text-align: left">FireCrawl API (<code class="language-plaintext highlighter-rouge">firecrawl-py</code>)</td>
      <td style="text-align: left">Cleanly scrape article text from any URL</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Stock Media</strong></td>
      <td style="text-align: left">Pexels API (<code class="language-plaintext highlighter-rouge">requests</code>)</td>
      <td style="text-align: left">Search and download royalty-free video/images</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Video Editing</strong></td>
      <td style="text-align: left">FFmpeg (<code class="language-plaintext highlighter-rouge">ffmpeg-python</code>)</td>
      <td style="text-align: left">Final composition, stitching, and audio mixing</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Web Server &amp; API</strong></td>
      <td style="text-align: left">FastAPI, Uvicorn, WebSocket</td>
      <td style="text-align: left">Real-time progress tracking and API endpoints</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Monitoring</strong></td>
      <td style="text-align: left">Langfuse</td>
      <td style="text-align: left">Tracing, debugging, and cost management</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="whats-next-the-roadmap-">What‚Äôs Next: The Roadmap üöÄ</h2>

<p>While ReelCraft is a functional and polished PoC, there‚Äôs always more to build:</p>

<ul>
  <li><strong>Subtitle Generation:</strong> Crucial for short-form content consumption (watching without sound).</li>
  <li><strong>Customization:</strong> Adding options for custom background music, different TTS voices, and font/style controls.</li>
  <li><strong>Batch Processing:</strong> Allowing users to queue up multiple articles for video generation.</li>
  <li><strong>Evals:</strong> Developing a proper LLM-as-a-Judge evaluation framework to quantitatively assess the quality of the generated script and asset keywords.</li>
</ul>

<p>The blend of an LLM‚Äôs creativity with robust media processing tools like FFmpeg proved to be an incredibly powerful combination. We took a common problem‚Äîthe attention-span gap‚Äîand solved it with a fully automated, scalable pipeline.</p>

<p><strong>Check out the repository and try the API!</strong></p>

<hr />

<p><strong>GitHub</strong>: [repository-url-here]</p>

<p><strong>API Docs</strong>: <a href="https://www.google.com/search?q=http://localhost:8000/docs">http://localhost:8000/docs</a> (when running locally)</p>

    </div>

    
</article>

<div style="text-align: center; margin-top: 2rem;">
    <p style="color: #666;">Thanks for reading! ‚ú®</p>
</div>
      </main>

      <footer class="site-footer" role="contentinfo">
  <div class="social-icons">
    <a href="mailto:bejay.ketan1@gmail.com" class="social-icon" aria-label="Email">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.89 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
      </svg>
    </a>
    <a href="https://github.com/BKG123" target="_blank" class="social-icon" aria-label="GitHub">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 0C5.374 0 0 5.373 0 12 0 17.302 3.438 21.8 8.207 23.387c.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/>
      </svg>
    </a>
    <a href="https://www.linkedin.com/in/bejay-ketan-guin-67970018a" target="_blank" class="social-icon" aria-label="LinkedIn">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
      </svg>
    </a>
    <a href="https://x.com/bkguin" target="_blank" class="social-icon" aria-label="Twitter">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
      </svg>
    </a>
  </div>
  <p class="footer-text">Best way to reach me is to drop a note to my gmail.</p>
</footer>
    </div>

    <script src="/assets/js/theme.js"></script>
  </body>
</html>